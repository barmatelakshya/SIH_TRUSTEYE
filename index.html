<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%231D4ED8'/%3E%3Cpath d='M50 25c-8 0-15 7-15 15v5c0 3 2 5 5 5s5-2 5-5v-5c0-3 2-5 5-5s5 2 5 5v5c0 8-7 15-15 15s-15 7-15 15c0 8 7 15 15 15s15-7 15-15c0-3-2-5-5-5s-5 2-5 5c0 3-2 5-5 5s-5-2-5-5c0-3 2-5 5-5s15-7 15-15V40c0-8-7-15-15-15z' fill='white'/%3E%3C/svg%3E">
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%231D4ED8'/%3E%3Cpath d='M50 25c-8 0-15 7-15 15v5c0 3 2 5 5 5s5-2 5-5v-5c0-3 2-5 5-5s5 2 5 5v5c0 8-7 15-15 15s-15 7-15 15c0 8 7 15 15 15s15-7 15-15c0-3-2-5-5-5s-5 2-5 5c0 3-2 5-5 5s-5-2-5-5c0-3 2-5 5-5s15-7 15-15V40c0-8-7-15-15-15z' fill='white'/%3E%3C/svg%3E">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.tailwindcss.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; img-src 'self' data: https:; font-src 'self' https://cdnjs.cloudflare.com;">
    <title>TrustEye â€” Where Innovation Meets Protection</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* Professional Background */
        body {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            background-attachment: fixed;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(59, 130, 246, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(16, 185, 129, 0.05) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }
        
        .dark body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
        }
        
        .dark body::before {
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(16, 185, 129, 0.1) 0%, transparent 50%);
        }
    </style>
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        background: '#F4F7FA',
                        primary: '#1D4ED8',
                        accent: '#059669',
                        text: '#1F2937',
                        secondary: '#6B7280',
                        border: '#E5E7EB',
                        error: '#DC2626'
                    },
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif']
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.6s ease-out',
                        'pulse-slow': 'pulse 3s infinite',
                        'bounce-slow': 'bounce 2s infinite'
                    }
                }
            }
        }
    </script>
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        .gradient-text { background: linear-gradient(45deg, #1D4ED8, #059669); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .glass-effect { backdrop-filter: blur(16px); background: rgba(255, 255, 255, 0.8); border: 1px solid rgba(255, 255, 255, 0.2); }
        .dark .glass-effect { background: rgba(31, 41, 55, 0.8); border: 1px solid rgba(75, 85, 99, 0.2); }
        .hover-lift { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .hover-lift:hover { transform: translateY(-4px); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); }
        .professional-card { background: white; border: 1px solid #E5E7EB; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); }
        .dark .professional-card { background: #374151; border: 1px solid #4B5563; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Responsive Grid System */
        .container { max-width: 100vw; margin: 0 auto; padding: 0 1rem; }
        .grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 1rem; }
        .col-12 { grid-column: span 12; }
        .col-6 { grid-column: span 6; }
        .col-4 { grid-column: span 4; }
        .col-3 { grid-column: span 3; }
        
        .section-padding { 
            padding: 2rem 1rem; 
            width: 100%;
            max-width: none;
        }
        .card-padding { padding: 1.5rem; }
        
        /* Perfect screen fit */
        .hero-section { min-height: calc(100vh - 5rem); display: flex; align-items: center; }
        .dashboard-grid { height: calc(100vh - 10rem); overflow-y: auto; }
        
        @media (max-width: 1024px) {
            .container { padding: 0 1rem; width: 100%; }
            .grid { gap: 0.75rem; }
            .section-padding { 
                padding: 1.5rem 1rem; 
                width: 100%;
            }
            .card-padding { padding: 1rem; }
        }
        
        @media (max-width: 768px) {
            .container { padding: 0 0.75rem; width: 100%; }
            .grid { gap: 0.5rem; grid-template-columns: 1fr; }
            .col-12, .col-6, .col-4, .col-3 { grid-column: span 1; }
            .section-padding { 
                padding: 1rem 0.75rem; 
                width: 100%;
            }
            .card-padding { padding: 0.75rem; }
            .hero-section { min-height: calc(100vh - 4rem); }
        }
    </style>
</head>
<body class="bg-background dark:bg-gray-900 text-text dark:text-white transition-colors duration-300">
    
    <!-- Navigation -->
    <nav class="glass-effect sticky top-0 z-50 border-b border-gray-200/50 dark:border-gray-700/50 w-full">
        <div class="w-full px-4 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-primary to-accent rounded-xl flex items-center justify-center shadow-lg">
                        <i class="fas fa-shield-alt text-white text-lg"></i>
                    </div>
                    <span class="text-xl font-bold gradient-text">TrustEye</span>
                </div>

                <div class="hidden lg:flex items-center space-x-6">
                    <a href="#home" onclick="showSection('home')" class="nav-link active text-primary font-medium border-b-2 border-primary pb-1 cursor-pointer hover:text-primary transition-colors text-sm">Home</a>
                    <a href="#scanner" onclick="showSection('scanner')" class="nav-link text-secondary hover:text-primary transition-colors cursor-pointer text-sm">Scanner</a>
                    <a href="#dashboard" onclick="showSection('dashboard')" class="nav-link text-secondary hover:text-primary transition-colors cursor-pointer text-sm">Dashboard</a>
                    <a href="#education" onclick="showSection('education')" class="nav-link text-secondary hover:text-primary transition-colors cursor-pointer text-sm">Education</a>
                    <a href="#contact" onclick="showSection('contact')" class="nav-link text-secondary hover:text-primary transition-colors cursor-pointer text-sm">Contact</a>
                </div>

                <div class="flex items-center space-x-2">
                    <button id="mobileMenuBtn" class="lg:hidden p-2 rounded-xl bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors">
                        <i class="fas fa-bars text-secondary text-sm"></i>
                    </button>
                    <button id="themeToggle" class="p-2 rounded-xl bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors" title="Toggle Theme">
                        <i class="fas fa-moon dark:hidden text-secondary text-sm"></i>
                        <i class="fas fa-sun hidden dark:block text-yellow-400 text-sm"></i>
                    </button>
                    <button id="langBtn" class="px-3 py-1 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 rounded-xl font-medium transition-colors text-text text-sm">EN</button>
                </div>
            </div>

            <div id="mobileMenu" class="hidden lg:hidden pb-4">
                <div class="flex flex-col space-y-3 bg-white dark:bg-gray-800 rounded-2xl p-4 mt-4 shadow-lg">
                    <a href="#home" onclick="showSection('home')" class="mobile-nav-link text-secondary hover:text-primary transition-colors py-2 cursor-pointer">Home</a>
                    <a href="#scanner" onclick="showSection('scanner')" class="mobile-nav-link text-secondary hover:text-primary transition-colors py-2 cursor-pointer">Scanner</a>
                    <a href="#dashboard" onclick="showSection('dashboard')" class="mobile-nav-link text-secondary hover:text-primary transition-colors py-2 cursor-pointer">Dashboard</a>
                    <a href="#education" onclick="showSection('education')" class="mobile-nav-link text-secondary hover:text-primary transition-colors py-2 cursor-pointer">Education</a>
                    <a href="#contact" onclick="showSection('contact')" class="mobile-nav-link text-secondary hover:text-primary transition-colors py-2 cursor-pointer">Contact</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="w-full">
        <!-- Home Section -->
        <section id="home" class="section-content">
            <!-- Hero Section -->
            <div class="section-padding text-center" style="min-height: calc(100vh - 5rem); display: flex; align-items: center;">
                <div class="grid w-full">
                    <div class="col-12">
                        <div class="mb-8">
                            <div class="inline-block p-4 bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl mb-6 hover-lift">
                                <i class="fas fa-shield-alt text-4xl md:text-6xl gradient-text"></i>
                            </div>
                        </div>
                        
                        <h1 class="text-2xl md:text-4xl lg:text-5xl font-bold mb-6 gradient-text leading-tight text-center">
                            TrustEye â€” Where Innovation Meets Protection
                        </h1>
                        
                        <p class="text-base md:text-lg lg:text-xl text-secondary max-w-4xl mx-auto mb-8 leading-relaxed">
                            Advanced AI protection with real-time threat detection, comprehensive education, and enterprise-grade security
                        </p>
                        
                        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                            <button onclick="showSection('scanner')" class="px-6 md:px-8 py-3 md:py-4 bg-gradient-to-r from-primary to-accent text-white rounded-xl font-semibold text-base md:text-lg shadow-lg hover-lift">
                                <i class="fas fa-rocket mr-2"></i>Start Scanning
                            </button>
                            
                            <button onclick="tryDemo()" class="px-6 md:px-8 py-3 md:py-4 border-2 border-primary text-primary rounded-xl font-semibold text-base md:text-lg hover-lift hover:bg-primary hover:text-white transition-colors">
                                <i class="fas fa-play mr-2"></i>Try Demo
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Features Grid -->
            <div class="section-padding">
                <div class="grid">
                    <div class="col-12 text-center mb-16">
                        <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold gradient-text">Key Features</h2>
                    </div>
                    <div class="col-12 col-md-6 col-lg-3">
                        <div class="professional-card card-padding rounded-2xl hover-lift h-full">
                            <i class="fas fa-brain text-4xl md:text-5xl text-primary mb-6"></i>
                            <h3 class="font-bold text-lg md:text-xl mb-4">AI Threat Scanner</h3>
                            <p class="text-secondary leading-relaxed">Advanced ML algorithms for URL & text analysis with real-time detection</p>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-3">
                        <div class="professional-card card-padding rounded-2xl hover-lift h-full">
                            <i class="fas fa-chart-line text-4xl md:text-5xl text-accent mb-6"></i>
                            <h3 class="font-bold text-lg md:text-xl mb-4">Live Dashboard</h3>
                            <p class="text-secondary leading-relaxed">Real-time stats with interactive charts and animated updates</p>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-3">
                        <div class="professional-card card-padding rounded-2xl hover-lift h-full">
                            <i class="fas fa-graduation-cap text-4xl md:text-5xl text-purple-600 mb-6"></i>
                            <h3 class="font-bold text-lg md:text-xl mb-4">Education Hub</h3>
                            <p class="text-secondary leading-relaxed">Comprehensive learning with quizzes, case studies, and tips</p>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-3">
                        <div class="professional-card card-padding rounded-2xl hover-lift h-full">
                            <i class="fas fa-shield-alt text-4xl md:text-5xl text-indigo-600 mb-6"></i>
                            <h3 class="font-bold text-lg md:text-xl mb-4">Enterprise Security</h3>
                            <p class="text-secondary leading-relaxed">XSS protection, input validation, and secure data handling</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- About Section -->
            <div class="section-padding">
                <div class="grid">
                    <div class="col-12">
                        <div class="professional-card rounded-2xl card-padding">
                            <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-6 gradient-text">About TrustEye</h2>
                            
                            <!-- Tagline -->
                            <div class="text-center mb-12">
                                <p class="text-xl md:text-2xl italic text-secondary font-medium">"See the threat before it strikes."</p>
                            </div>
                            
                            <div class="grid gap-8">
                                <!-- Project Overview -->
                                <div class="col-12">
                                    <div class="bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 p-6 rounded-lg">
                                        <h3 class="text-xl font-bold text-blue-800 dark:text-blue-200 mb-4">Project Overview</h3>
                                        <p class="text-blue-700 dark:text-blue-300 leading-relaxed">
                                            <strong>TrustEye</strong> is an AI-powered threat detection platform that scans URLs, files, and text in real time to prevent phishing, scams, and malware. Designed with accessibility and multilingual support, it empowers users to detect threats instantly across devices and languages.
                                        </p>
                                    </div>
                                </div>
                                
                                <!-- Problem & Solution -->
                                <div class="col-12 col-lg-6">
                                    <div class="bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 p-6 rounded-lg h-full">
                                        <h3 class="text-xl font-bold text-red-800 dark:text-red-200 mb-4">
                                            <i class="fas fa-exclamation-triangle mr-2"></i>Problem Statement
                                        </h3>
                                        <p class="text-red-700 dark:text-red-300 leading-relaxed">
                                            Every day, users fall victim to digital threats due to deceptive links, fake messages, and lack of cybersecurity awareness â€” especially in multilingual environments. Traditional tools are either too technical or inaccessible for everyday users.
                                        </p>
                                    </div>
                                </div>
                                
                                <div class="col-12 col-lg-6">
                                    <div class="bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500 p-6 rounded-lg h-full">
                                        <h3 class="text-xl font-bold text-green-800 dark:text-green-200 mb-4">
                                            <i class="fas fa-lightbulb mr-2"></i>Solution Summary
                                        </h3>
                                        <p class="text-green-700 dark:text-green-300 leading-relaxed">
                                            TrustEye combines AI-based detection, interactive dashboards, and educational content to deliver a complete cybersecurity experience. With support for English and Hindi, dark/light mode, and real-time feedback, it's built for inclusivity and impact.
                                        </p>
                                    </div>
                                </div>
                                
                                <!-- Key Features -->
                                <div class="col-12">
                                    <div class="bg-purple-50 dark:bg-purple-900/20 border-l-4 border-purple-500 p-6 rounded-lg">
                                        <h3 class="text-xl font-bold text-purple-800 dark:text-purple-200 mb-6">
                                            <i class="fas fa-star mr-2"></i>Key Features
                                        </h3>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <div class="flex items-center text-purple-700 dark:text-purple-300">
                                                <i class="fas fa-check-circle text-green-500 mr-3"></i>
                                                <span>URL, file, and text scanning</span>
                                            </div>
                                            <div class="flex items-center text-purple-700 dark:text-purple-300">
                                                <i class="fas fa-check-circle text-green-500 mr-3"></i>
                                                <span>Real-time dashboard with charts and history</span>
                                            </div>
                                            <div class="flex items-center text-purple-700 dark:text-purple-300">
                                                <i class="fas fa-check-circle text-green-500 mr-3"></i>
                                                <span>Educational content and phishing quiz</span>
                                            </div>
                                            <div class="flex items-center text-purple-700 dark:text-purple-300">
                                                <i class="fas fa-check-circle text-green-500 mr-3"></i>
                                                <span>Multi-language support (EN/HI)</span>
                                            </div>
                                            <div class="flex items-center text-purple-700 dark:text-purple-300">
                                                <i class="fas fa-check-circle text-green-500 mr-3"></i>
                                                <span>Dark/light mode with theme persistence</span>
                                            </div>
                                            <div class="flex items-center text-purple-700 dark:text-purple-300">
                                                <i class="fas fa-check-circle text-green-500 mr-3"></i>
                                                <span>Local data storage and privacy-first design</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Impact Statement -->
                                <div class="col-12">
                                    <div class="bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-700 p-6 rounded-lg text-center">
                                        <h3 class="text-xl font-bold gradient-text mb-4">
                                            <i class="fas fa-shield-alt mr-2"></i>Impact Statement
                                        </h3>
                                        <p class="text-secondary leading-relaxed mb-6">
                                            TrustEye is more than a tool â€” it's a learning platform that builds digital resilience. By combining detection with education, it helps users recognize threats, respond wisely, and stay safe online.
                                        </p>
                                        
                                        <!-- Call to Action -->
                                        <div class="space-y-4">
                                            <h4 class="font-bold text-lg">Try a demo scan, explore the dashboard, or test your phishing awareness â€” TrustEye is ready to protect.</h4>
                                            <div class="flex flex-wrap justify-center gap-4">
                                                <button onclick="showSection('scanner')" class="bg-primary hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors">
                                                    <i class="fas fa-search mr-2"></i>Try Scanner
                                                </button>
                                                <button onclick="showSection('dashboard')" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors">
                                                    <i class="fas fa-chart-bar mr-2"></i>View Dashboard
                                                </button>
                                                <button onclick="showSection('education')" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors">
                                                    <i class="fas fa-graduation-cap mr-2"></i>Take Quiz
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Scanner Section -->
        <section id="scanner" class="section-content hidden">
            <div class="section-padding">
                <div class="grid">
                    <div class="col-12 text-center mb-12">
                        <h2 class="text-4xl md:text-5xl font-bold gradient-text mb-4">AI Threat Scanner</h2>
                        <p class="text-lg text-secondary">Advanced machine learning for real-time phishing detection</p>
                    </div>
                    
                    <!-- Scanner Interface -->
                    <div class="col-12">
                        <div class="professional-card rounded-2xl card-padding">
                            <!-- Scanner Tabs -->
                            <div class="flex justify-center mb-8">
                                <div class="flex bg-gray-100 dark:bg-gray-700 rounded-xl p-1">
                                    <button onclick="switchScannerTab('url')" id="urlScanTab" class="px-6 py-3 rounded-lg bg-primary text-white font-medium transition-all">
                                        <i class="fas fa-link mr-2"></i>URL Scanner
                                    </button>
                                    <button onclick="switchScannerTab('text')" id="textScanTab" class="px-6 py-3 rounded-lg font-medium text-secondary hover:text-primary transition-all">
                                        <i class="fas fa-file-text mr-2"></i>Text Analysis
                                    </button>
                                </div>
                            </div>

                            <!-- URL Scanner -->
                            <div id="urlScanner" class="scanner-tab">
                                <div class="mb-6">
                                    <label class="block text-sm font-medium mb-2">Enter URL to scan:</label>
                                    <input type="url" id="urlInput" class="w-full p-4 border border-gray-300 dark:border-gray-600 rounded-xl focus:border-primary focus:outline-none text-lg bg-white dark:bg-gray-700" placeholder="https://example.com">
                                </div>
                                
                                <!-- Sample URLs -->
                                <div class="mb-6">
                                    <p class="text-sm font-medium mb-3">Try these samples:</p>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                                        <button onclick="loadSample('url', 'http://bit.ly/phishing-bank')" class="text-left p-2 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded text-sm hover:bg-red-100 dark:hover:bg-red-900/30">ðŸš¨ Phishing Bank</button>
                                        <button onclick="loadSample('url', 'https://secure-paypal-verify.tk')" class="text-left p-2 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded text-sm hover:bg-red-100 dark:hover:bg-red-900/30">ðŸš¨ Fake PayPal</button>
                                        <button onclick="loadSample('url', 'https://amazon-security.ml')" class="text-left p-2 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded text-sm hover:bg-red-100 dark:hover:bg-red-900/30">ðŸš¨ Fake Amazon</button>
                                        <button onclick="loadSample('url', 'https://google.com')" class="text-left p-2 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded text-sm hover:bg-green-100 dark:hover:bg-green-900/30">âœ… Legitimate Site</button>
                                    </div>
                                </div>
                                
                                <button onclick="scanUrl()" id="scanUrlBtn" class="w-full md:w-auto px-8 py-4 bg-gradient-to-r from-primary to-accent text-white rounded-xl font-semibold text-lg hover-lift">
                                    <i class="fas fa-search mr-3"></i>Scan URL
                                </button>
                            </div>

                            <!-- Text Scanner -->
                            <div id="textScanner" class="scanner-tab hidden">
                                <div class="mb-6">
                                    <label class="block text-sm font-medium mb-2">Enter text to analyze:</label>
                                    <textarea id="textInput" rows="6" class="w-full p-4 border border-gray-300 dark:border-gray-600 rounded-xl focus:border-primary focus:outline-none text-lg bg-white dark:bg-gray-700 resize-none" placeholder="Paste suspicious email or message content here..."></textarea>
                                </div>
                                
                                <!-- Sample Texts -->
                                <div class="mb-6">
                                    <p class="text-sm font-medium mb-3">Try these samples:</p>
                                    <div class="grid grid-cols-1 gap-2">
                                        <button onclick="loadSample('text', 'URGENT: Your account will be suspended in 24 hours. Click here immediately to verify your identity and prevent closure.')" class="text-left p-2 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded text-sm hover:bg-red-100 dark:hover:bg-red-900/30">ðŸš¨ Account Suspension Threat</button>
                                        <button onclick="loadSample('text', 'Congratulations! You have won $1,000,000 in our lottery. Send your bank details to claim your prize now!')" class="text-left p-2 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded text-sm hover:bg-red-100 dark:hover:bg-red-900/30">ðŸš¨ Lottery Scam</button>
                                        <button onclick="loadSample('text', 'Your order #12345 has been shipped and will arrive tomorrow. Track your package using the link below.')" class="text-left p-2 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded text-sm hover:bg-green-100 dark:hover:bg-green-900/30">âœ… Legitimate Notification</button>
                                    </div>
                                </div>
                                
                                <button onclick="scanText()" id="scanTextBtn" class="w-full md:w-auto px-8 py-4 bg-gradient-to-r from-primary to-accent text-white rounded-xl font-semibold text-lg hover-lift">
                                    <i class="fas fa-search mr-3"></i>Analyze Text
                                </button>
                            </div>

                            <!-- Results -->
                            <div id="scanResults" class="mt-8 hidden">
                                <div id="resultContent" class="p-6 rounded-xl"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dashboard Section -->
        <section id="dashboard" class="section-content hidden">
            <div class="section-padding">
                <div class="grid">
                    <div class="col-12 text-center mb-12">
                        <h2 class="text-4xl md:text-5xl font-bold gradient-text mb-4">Security Dashboard</h2>
                        <p class="text-lg text-secondary">Real-time threat monitoring and analytics</p>
                    </div>
                    
                    <!-- Dashboard Stats -->
                    <div class="col-12 col-md-3">
                        <div class="professional-card card-padding rounded-2xl hover-lift">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-secondary text-sm">Total Scans</p>
                                    <p class="text-3xl font-bold gradient-text" id="dashTotalScans">0</p>
                                </div>
                                <i class="fas fa-search text-primary text-2xl"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-3">
                        <div class="professional-card card-padding rounded-2xl hover-lift">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-secondary text-sm">Threats Blocked</p>
                                    <p class="text-3xl font-bold text-error" id="dashThreatsBlocked">0</p>
                                </div>
                                <i class="fas fa-shield-alt text-error text-2xl"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-3">
                        <div class="professional-card card-padding rounded-2xl hover-lift">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-secondary text-sm">Success Rate</p>
                                    <p class="text-3xl font-bold text-accent" id="dashSuccessRate">0%</p>
                                </div>
                                <i class="fas fa-check-circle text-accent text-2xl"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-3">
                        <div class="professional-card card-padding rounded-2xl hover-lift">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-secondary text-sm">Last Scan</p>
                                    <p class="text-lg font-bold text-text" id="dashLastScan">Never</p>
                                </div>
                                <i class="fas fa-clock text-secondary text-2xl"></i>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Charts -->
                    <div class="col-12 col-lg-6">
                        <div class="professional-card card-padding rounded-2xl">
                            <h3 class="text-xl font-bold mb-4">Threat Distribution</h3>
                            <div class="h-64">
                                <canvas id="threatChart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-lg-6">
                        <div class="professional-card card-padding rounded-2xl">
                            <h3 class="text-xl font-bold mb-4">Scan History</h3>
                            <div class="h-64">
                                <canvas id="historyChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Recent Scans -->
                    <div class="col-12">
                        <div class="professional-card card-padding rounded-2xl">
                            <div class="flex justify-between items-center mb-6">
                                <h3 class="text-xl font-bold">Recent Scans</h3>
                                <div class="flex space-x-2">
                                    <button onclick="quickScan()" class="px-4 py-2 bg-primary text-white rounded-lg hover-lift">
                                        <i class="fas fa-bolt mr-2"></i>Quick Scan
                                    </button>
                                    <button onclick="exportData()" class="px-4 py-2 bg-accent text-white rounded-lg hover-lift">
                                        <i class="fas fa-download mr-2"></i>Export
                                    </button>
                                    <button onclick="clearData()" class="px-4 py-2 bg-error text-white rounded-lg hover-lift">
                                        <i class="fas fa-trash mr-2"></i>Clear
                                    </button>
                                </div>
                            </div>
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead>
                                        <tr class="border-b border-gray-200 dark:border-gray-700">
                                            <th class="text-left py-3 px-4">Time</th>
                                            <th class="text-left py-3 px-4">Type</th>
                                            <th class="text-left py-3 px-4">Content</th>
                                            <th class="text-left py-3 px-4">Result</th>
                                            <th class="text-left py-3 px-4">Risk</th>
                                        </tr>
                                    </thead>
                                    <tbody id="scanHistoryTable">
                                        <tr>
                                            <td colspan="5" class="text-center py-8 text-secondary">No scans yet. Try the scanner to see results here.</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Education Section -->
        <section id="education" class="section-content hidden">
            <div class="section-padding">
                <div class="grid">
                    <div class="col-12 text-center mb-12">
                        <h2 class="text-4xl md:text-5xl font-bold gradient-text mb-4">Cybersecurity Education</h2>
                        <p class="text-lg text-secondary">Learn to identify and prevent cyber threats</p>
                    </div>
                    
                    <!-- Security Tips Section -->
                    <div class="col-12 mb-8">
                        <div class="professional-card card-padding rounded-2xl">
                            <h3 class="text-2xl font-bold mb-6 gradient-text">
                                <i class="fas fa-shield-alt mr-3"></i>Daily Security Tips
                            </h3>
                            
                            <div class="grid">
                                <!-- Spotting Suspicious Links -->
                                <div class="col-12 col-lg-6 mb-6">
                                    <div class="bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 p-4 rounded-lg">
                                        <h4 class="text-xl font-bold text-blue-800 dark:text-blue-200 mb-3">
                                            <i class="fas fa-link mr-2"></i>Spotting Suspicious Links
                                        </h4>
                                        <ul class="text-blue-700 dark:text-blue-300 space-y-2">
                                            <li>â€¢ Hover over links to preview URLs before clicking</li>
                                            <li>â€¢ Check for misspelled domains (e.g., "gmai1.com")</li>
                                            <li>â€¢ Be wary of shortened URLs from unknown sources</li>
                                            <li>â€¢ Look for HTTPS and legitimate domain names</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <!-- Password Best Practices -->
                                <div class="col-12 col-lg-6 mb-6">
                                    <div class="bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500 p-4 rounded-lg">
                                        <h4 class="text-xl font-bold text-green-800 dark:text-green-200 mb-3">
                                            <i class="fas fa-lock mr-2"></i>Password Best Practices
                                        </h4>
                                        <ul class="text-green-700 dark:text-green-300 space-y-2">
                                            <li>â€¢ Use unique passwords for each account</li>
                                            <li>â€¢ Enable two-factor authentication (2FA)</li>
                                            <li>â€¢ Use a password manager</li>
                                            <li>â€¢ Create 12+ character passwords with mixed symbols</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <!-- Safe Browsing Habits -->
                                <div class="col-12 col-lg-6 mb-6">
                                    <div class="bg-purple-50 dark:bg-purple-900/20 border-l-4 border-purple-500 p-4 rounded-lg">
                                        <h4 class="text-xl font-bold text-purple-800 dark:text-purple-200 mb-3">
                                            <i class="fas fa-globe mr-2"></i>Safe Browsing Habits
                                        </h4>
                                        <ul class="text-purple-700 dark:text-purple-300 space-y-2">
                                            <li>â€¢ Keep browsers and plugins updated</li>
                                            <li>â€¢ Avoid downloading from untrusted sites</li>
                                            <li>â€¢ Use reputable antivirus software</li>
                                            <li>â€¢ Be cautious with public Wi-Fi</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <!-- Email Safety & Social Engineering -->
                                <div class="col-12 col-lg-6 mb-6">
                                    <div class="bg-orange-50 dark:bg-orange-900/20 border-l-4 border-orange-500 p-4 rounded-lg">
                                        <h4 class="text-xl font-bold text-orange-800 dark:text-orange-200 mb-3">
                                            <i class="fas fa-envelope-open-text mr-2"></i>Email Safety & Social Engineering
                                        </h4>
                                        <ul class="text-orange-700 dark:text-orange-300 space-y-2">
                                            <li>â€¢ Verify sender identity before clicking links</li>
                                            <li>â€¢ Be skeptical of urgent personal info requests</li>
                                            <li>â€¢ Don't trust unexpected prize notifications</li>
                                            <li>â€¢ Report and delete suspicious emails</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Interactive Quiz Section -->
                    <div class="col-12 mb-8">
                        <div class="professional-card card-padding rounded-2xl">
                            <h3 class="text-2xl font-bold mb-6 gradient-text">
                                <i class="fas fa-gamepad mr-3"></i>Interactive Quiz Challenge
                            </h3>
                            
                            <div id="quiz-container">
                                <div id="quiz-stats" class="flex justify-between items-center mb-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg">
                                    <div class="text-center">
                                        <div class="text-2xl font-bold text-green-600" id="correct-count">0</div>
                                        <div class="text-sm text-secondary">Correct</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-2xl font-bold text-red-600" id="incorrect-count">0</div>
                                        <div class="text-sm text-secondary">Incorrect</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-2xl font-bold text-blue-600" id="score">0%</div>
                                        <div class="text-sm text-secondary">Score</div>
                                    </div>
                                </div>
                                
                                <div id="quiz-question" class="mb-6">
                                    <div class="bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-lg p-6 mb-4">
                                        <div class="text-sm text-secondary mb-2" id="question-type">Email Sample</div>
                                        <div class="font-mono text-sm bg-gray-50 dark:bg-gray-800 p-4 rounded border" id="sample-content">
                                            Loading quiz...
                                        </div>
                                    </div>
                                    
                                    <div class="text-center space-x-4">
                                        <button onclick="answerQuiz(true)" class="bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-semibold transition-colors">
                                            <i class="fas fa-check mr-2"></i>Safe
                                        </button>
                                        <button onclick="answerQuiz(false)" class="bg-red-600 hover:bg-red-700 text-white px-8 py-3 rounded-lg font-semibold transition-colors">
                                            <i class="fas fa-times mr-2"></i>Suspicious
                                        </button>
                                    </div>
                                </div>
                                
                                <div id="quiz-feedback" class="hidden mb-4">
                                    <div class="p-4 rounded-lg" id="feedback-content"></div>
                                    <div class="text-center mt-4">
                                        <button onclick="nextQuestion()" class="bg-primary hover:bg-blue-700 text-white px-6 py-2 rounded-lg">
                                            Next Question
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Case Studies Section -->
                    <div class="col-12 mb-8">
                        <div class="professional-card card-padding rounded-2xl">
                            <h3 class="text-2xl font-bold mb-6 gradient-text">
                                <i class="fas fa-file-alt mr-3"></i>Real-World Case Studies
                            </h3>
                            
                            <div class="space-y-6">
                                <!-- Case Study 1: Phishing Email Data Breach -->
                                <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-6">
                                    <div class="flex items-center mb-4">
                                        <div class="bg-red-100 dark:bg-red-900/30 p-3 rounded-full mr-4">
                                            <i class="fas fa-envelope text-red-600 text-xl"></i>
                                        </div>
                                        <h4 class="text-xl font-bold">The Corporate Email Breach</h4>
                                    </div>
                                    
                                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                        <div class="bg-red-50 dark:bg-red-900/20 p-4 rounded-lg">
                                            <h5 class="font-bold text-red-800 dark:text-red-200 mb-2">
                                                <i class="fas fa-exclamation-triangle mr-2"></i>What Went Wrong
                                            </h5>
                                            <p class="text-red-700 dark:text-red-300 text-sm">Employee clicked a fake "IT Security Update" email, entered credentials on a spoofed login page, giving attackers access to company systems and 50,000 customer records.</p>
                                        </div>
                                        
                                        <div class="bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg">
                                            <h5 class="font-bold text-blue-800 dark:text-blue-200 mb-2">
                                                <i class="fas fa-shield-alt mr-2"></i>Prevention
                                            </h5>
                                            <p class="text-blue-700 dark:text-blue-300 text-sm">Verify sender through separate channel, check URL carefully, enable 2FA, and implement email security training for all employees.</p>
                                        </div>
                                        
                                        <div class="bg-green-50 dark:bg-green-900/20 p-4 rounded-lg">
                                            <h5 class="font-bold text-green-800 dark:text-green-200 mb-2">
                                                <i class="fas fa-lightbulb mr-2"></i>Lessons Learned
                                            </h5>
                                            <p class="text-green-700 dark:text-green-300 text-sm">Always verify urgent IT requests independently. Legitimate IT never asks for passwords via email. Human error is the weakest security link.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Case Study 2: OTP Scam -->
                                <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-6">
                                    <div class="flex items-center mb-4">
                                        <div class="bg-orange-100 dark:bg-orange-900/30 p-3 rounded-full mr-4">
                                            <i class="fas fa-mobile-alt text-orange-600 text-xl"></i>
                                        </div>
                                        <h4 class="text-xl font-bold">The Banking OTP Fraud</h4>
                                    </div>
                                    
                                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                        <div class="bg-red-50 dark:bg-red-900/20 p-4 rounded-lg">
                                            <h5 class="font-bold text-red-800 dark:text-red-200 mb-2">
                                                <i class="fas fa-exclamation-triangle mr-2"></i>What Went Wrong
                                            </h5>
                                            <p class="text-red-700 dark:text-red-300 text-sm">Scammer called pretending to be from bank's fraud department, created urgency about "suspicious activity," and convinced victim to share OTP, leading to â‚¹2,50,000 theft.</p>
                                        </div>
                                        
                                        <div class="bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg">
                                            <h5 class="font-bold text-blue-800 dark:text-blue-200 mb-2">
                                                <i class="fas fa-shield-alt mr-2"></i>Prevention
                                            </h5>
                                            <p class="text-blue-700 dark:text-blue-300 text-sm">Never share OTP with anyone. Banks never ask for OTP over phone. Hang up and call bank's official number to verify any suspicious activity.</p>
                                        </div>
                                        
                                        <div class="bg-green-50 dark:bg-green-900/20 p-4 rounded-lg">
                                            <h5 class="font-bold text-green-800 dark:text-green-200 mb-2">
                                                <i class="fas fa-lightbulb mr-2"></i>Lessons Learned
                                            </h5>
                                            <p class="text-green-700 dark:text-green-300 text-sm">OTP is like your signature - never share it. Urgency is a red flag. Always verify caller identity through official channels.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Case Study 3: WhatsApp Malware -->
                                <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-6">
                                    <div class="flex items-center mb-4">
                                        <div class="bg-green-100 dark:bg-green-900/30 p-3 rounded-full mr-4">
                                            <i class="fab fa-whatsapp text-green-600 text-xl"></i>
                                        </div>
                                        <h4 class="text-xl font-bold">The WhatsApp Malware Spread</h4>
                                    </div>
                                    
                                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                        <div class="bg-red-50 dark:bg-red-900/20 p-4 rounded-lg">
                                            <h5 class="font-bold text-red-800 dark:text-red-200 mb-2">
                                                <i class="fas fa-exclamation-triangle mr-2"></i>What Went Wrong
                                            </h5>
                                            <p class="text-red-700 dark:text-red-300 text-sm">User downloaded "Free Netflix Premium.apk" shared in family group, installing malware that stole banking apps data and spread to 200+ contacts automatically.</p>
                                        </div>
                                        
                                        <div class="bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg">
                                            <h5 class="font-bold text-blue-800 dark:text-blue-200 mb-2">
                                                <i class="fas fa-shield-alt mr-2"></i>Prevention
                                            </h5>
                                            <p class="text-blue-700 dark:text-blue-300 text-sm">Only download apps from official stores. Be suspicious of "free premium" offers. Enable "Unknown sources" protection. Use antivirus on mobile devices.</p>
                                        </div>
                                        
                                        <div class="bg-green-50 dark:bg-green-900/20 p-4 rounded-lg">
                                            <h5 class="font-bold text-green-800 dark:text-green-200 mb-2">
                                                <i class="fas fa-lightbulb mr-2"></i>Lessons Learned
                                            </h5>
                                            <p class="text-green-700 dark:text-green-300 text-sm">Free premium services are usually scams. Trust is exploited in family/friend groups. Mobile devices need security protection too.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Best Practices Guide Section -->
                    <div class="col-12 mb-8">
                        <div class="professional-card card-padding rounded-2xl">
                            <h3 class="text-2xl font-bold mb-6 gradient-text">
                                <i class="fas fa-clipboard-check mr-3"></i>Best Practices Guide
                            </h3>
                            
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                <!-- For Individuals -->
                                <div class="space-y-6">
                                    <h4 class="text-xl font-bold text-blue-600 dark:text-blue-400 mb-4">
                                        <i class="fas fa-user mr-2"></i>For Individuals
                                    </h4>
                                    
                                    <!-- Secure Device Setup -->
                                    <div class="bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 p-4 rounded-lg">
                                        <h5 class="font-bold text-blue-800 dark:text-blue-200 mb-3">
                                            <i class="fas fa-laptop mr-2"></i>Secure Device Setup
                                        </h5>
                                        <ul class="text-blue-700 dark:text-blue-300 space-y-1 text-sm">
                                            <li>â€¢ Enable automatic security updates</li>
                                            <li>â€¢ Use strong device passwords/PINs</li>
                                            <li>â€¢ Enable device encryption</li>
                                            <li>â€¢ Install reputable antivirus software</li>
                                            <li>â€¢ Configure firewall protection</li>
                                        </ul>
                                    </div>
                                    
                                    <!-- Multi-Factor Authentication -->
                                    <div class="bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500 p-4 rounded-lg">
                                        <h5 class="font-bold text-green-800 dark:text-green-200 mb-3">
                                            <i class="fas fa-key mr-2"></i>Multi-Factor Authentication
                                        </h5>
                                        <ul class="text-green-700 dark:text-green-300 space-y-1 text-sm">
                                            <li>â€¢ Enable 2FA on all important accounts</li>
                                            <li>â€¢ Use authenticator apps over SMS</li>
                                            <li>â€¢ Keep backup recovery codes safe</li>
                                            <li>â€¢ Consider hardware security keys</li>
                                            <li>â€¢ Review active sessions regularly</li>
                                        </ul>
                                    </div>
                                    
                                    <!-- Safe File Sharing -->
                                    <div class="bg-purple-50 dark:bg-purple-900/20 border-l-4 border-purple-500 p-4 rounded-lg">
                                        <h5 class="font-bold text-purple-800 dark:text-purple-200 mb-3">
                                            <i class="fas fa-share-alt mr-2"></i>Safe File Sharing
                                        </h5>
                                        <ul class="text-purple-700 dark:text-purple-300 space-y-1 text-sm">
                                            <li>â€¢ Use encrypted cloud storage services</li>
                                            <li>â€¢ Scan files before sharing</li>
                                            <li>â€¢ Set expiration dates on shared links</li>
                                            <li>â€¢ Avoid sharing sensitive data via email</li>
                                            <li>â€¢ Verify recipient identity before sharing</li>
                                        </ul>
                                    </div>
                                    
                                    <!-- Personal Incident Response -->
                                    <div class="bg-orange-50 dark:bg-orange-900/20 border-l-4 border-orange-500 p-4 rounded-lg">
                                        <h5 class="font-bold text-orange-800 dark:text-orange-200 mb-3">
                                            <i class="fas fa-exclamation-circle mr-2"></i>Incident Response Basics
                                        </h5>
                                        <ul class="text-orange-700 dark:text-orange-300 space-y-1 text-sm">
                                            <li>â€¢ Disconnect from internet if compromised</li>
                                            <li>â€¢ Change all passwords immediately</li>
                                            <li>â€¢ Contact bank/credit card companies</li>
                                            <li>â€¢ Document the incident with screenshots</li>
                                            <li>â€¢ Report to relevant authorities</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <!-- For Businesses -->
                                <div class="space-y-6">
                                    <h4 class="text-xl font-bold text-indigo-600 dark:text-indigo-400 mb-4">
                                        <i class="fas fa-building mr-2"></i>For Businesses
                                    </h4>
                                    
                                    <!-- Enterprise Device Security -->
                                    <div class="bg-indigo-50 dark:bg-indigo-900/20 border-l-4 border-indigo-500 p-4 rounded-lg">
                                        <h5 class="font-bold text-indigo-800 dark:text-indigo-200 mb-3">
                                            <i class="fas fa-server mr-2"></i>Enterprise Device Security
                                        </h5>
                                        <ul class="text-indigo-700 dark:text-indigo-300 space-y-1 text-sm">
                                            <li>â€¢ Implement Mobile Device Management (MDM)</li>
                                            <li>â€¢ Enforce endpoint protection policies</li>
                                            <li>â€¢ Regular security patch management</li>
                                            <li>â€¢ Network segmentation and monitoring</li>
                                            <li>â€¢ Employee device usage policies</li>
                                        </ul>
                                    </div>
                                    
                                    <!-- Enterprise Authentication -->
                                    <div class="bg-teal-50 dark:bg-teal-900/20 border-l-4 border-teal-500 p-4 rounded-lg">
                                        <h5 class="font-bold text-teal-800 dark:text-teal-200 mb-3">
                                            <i class="fas fa-users-cog mr-2"></i>Enterprise Authentication
                                        </h5>
                                        <ul class="text-teal-700 dark:text-teal-300 space-y-1 text-sm">
                                            <li>â€¢ Deploy Single Sign-On (SSO) solutions</li>
                                            <li>â€¢ Mandatory MFA for all employees</li>
                                            <li>â€¢ Role-based access controls (RBAC)</li>
                                            <li>â€¢ Regular access reviews and audits</li>
                                            <li>â€¢ Privileged account management</li>
                                        </ul>
                                    </div>
                                    
                                    <!-- Secure Business File Sharing -->
                                    <div class="bg-pink-50 dark:bg-pink-900/20 border-l-4 border-pink-500 p-4 rounded-lg">
                                        <h5 class="font-bold text-pink-800 dark:text-pink-200 mb-3">
                                            <i class="fas fa-cloud-upload-alt mr-2"></i>Secure Business File Sharing
                                        </h5>
                                        <ul class="text-pink-700 dark:text-pink-300 space-y-1 text-sm">
                                            <li>â€¢ Use enterprise-grade cloud platforms</li>
                                            <li>â€¢ Implement Data Loss Prevention (DLP)</li>
                                            <li>â€¢ Classify and label sensitive data</li>
                                            <li>â€¢ Monitor file access and sharing logs</li>
                                            <li>â€¢ Train employees on data handling</li>
                                        </ul>
                                    </div>
                                    
                                    <!-- Business Incident Response -->
                                    <div class="bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 p-4 rounded-lg">
                                        <h5 class="font-bold text-red-800 dark:text-red-200 mb-3">
                                            <i class="fas fa-ambulance mr-2"></i>Business Incident Response
                                        </h5>
                                        <ul class="text-red-700 dark:text-red-300 space-y-1 text-sm">
                                            <li>â€¢ Establish incident response team</li>
                                            <li>â€¢ Create detailed response playbooks</li>
                                            <li>â€¢ Regular backup and recovery testing</li>
                                            <li>â€¢ Legal and regulatory compliance</li>
                                            <li>â€¢ Post-incident analysis and improvement</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Long-term Habits Section -->
                            <div class="mt-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-6 rounded-lg border border-blue-200 dark:border-blue-700">
                                <h4 class="text-xl font-bold gradient-text mb-4">
                                    <i class="fas fa-calendar-check mr-2"></i>Building Long-term Security Habits
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <h5 class="font-semibold mb-2">Monthly Tasks:</h5>
                                        <ul class="text-sm text-secondary space-y-1">
                                            <li>â€¢ Review and update passwords</li>
                                            <li>â€¢ Check for software updates</li>
                                            <li>â€¢ Review account permissions</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <h5 class="font-semibold mb-2">Quarterly Tasks:</h5>
                                        <ul class="text-sm text-secondary space-y-1">
                                            <li>â€¢ Security awareness training</li>
                                            <li>â€¢ Backup and recovery testing</li>
                                            <li>â€¢ Security policy reviews</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Threat Encyclopedia -->
                    <div class="col-12 mb-8">
                        <div class="professional-card card-padding rounded-2xl">
                            <h3 class="text-2xl font-bold mb-6 gradient-text">
                                <i class="fas fa-book mr-3"></i>Threat Encyclopedia
                            </h3>
                            
                            <div class="grid">
                                <!-- Phishing -->
                                <div class="col-12 col-lg-6 mb-6">
                                    <div class="bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 p-4 rounded-lg">
                                        <h4 class="text-xl font-bold text-red-800 dark:text-red-200 mb-3">
                                            <i class="fas fa-fish mr-2"></i>Phishing
                                        </h4>
                                        <p class="text-red-700 dark:text-red-300 mb-3">Fake websites and deceptive emails designed to steal credentials</p>
                                        <ul class="text-sm text-red-600 dark:text-red-400 space-y-1">
                                            <li>â€¢ Fake login pages mimicking banks</li>
                                            <li>â€¢ Deceptive emails requesting personal info</li>
                                            <li>â€¢ Spoofed domains with slight misspellings</li>
                                            <li>â€¢ Urgent messages creating false urgency</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <!-- Malware -->
                                <div class="col-12 col-lg-6 mb-6">
                                    <div class="bg-purple-50 dark:bg-purple-900/20 border-l-4 border-purple-500 p-4 rounded-lg">
                                        <h4 class="text-xl font-bold text-purple-800 dark:text-purple-200 mb-3">
                                            <i class="fas fa-virus mr-2"></i>Malware
                                        </h4>
                                        <p class="text-purple-700 dark:text-purple-300 mb-3">Harmful software including trojans and ransomware</p>
                                        <ul class="text-sm text-purple-600 dark:text-purple-400 space-y-1">
                                            <li>â€¢ Trojans disguised as legitimate software</li>
                                            <li>â€¢ Ransomware encrypting user files</li>
                                            <li>â€¢ Keyloggers stealing passwords</li>
                                            <li>â€¢ Backdoors providing remote access</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <!-- Scams -->
                                <div class="col-12 col-lg-6 mb-6">
                                    <div class="bg-orange-50 dark:bg-orange-900/20 border-l-4 border-orange-500 p-4 rounded-lg">
                                        <h4 class="text-xl font-bold text-orange-800 dark:text-orange-200 mb-3">
                                            <i class="fas fa-exclamation-triangle mr-2"></i>Scams
                                        </h4>
                                        <p class="text-orange-700 dark:text-orange-300 mb-3">Fraudulent messages and impersonation attacks</p>
                                        <ul class="text-sm text-orange-600 dark:text-orange-400 space-y-1">
                                            <li>â€¢ Lottery and prize scams</li>
                                            <li>â€¢ Romance scams on social media</li>
                                            <li>â€¢ Tech support impersonation</li>
                                            <li>â€¢ Investment fraud schemes</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <!-- Safe Content -->
                                <div class="col-12 col-lg-6 mb-6">
                                    <div class="bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500 p-4 rounded-lg">
                                        <h4 class="text-xl font-bold text-green-800 dark:text-green-200 mb-3">
                                            <i class="fas fa-shield-alt mr-2"></i>Safe Content
                                        </h4>
                                        <p class="text-green-700 dark:text-green-300 mb-3">Clean and trustworthy content characteristics</p>
                                        <ul class="text-sm text-green-600 dark:text-green-400 space-y-1">
                                            <li>â€¢ Verified sender addresses</li>
                                            <li>â€¢ HTTPS secure connections</li>
                                            <li>â€¢ Professional language and formatting</li>
                                            <li>â€¢ No urgent action demands</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Protection Tips -->
                    <div class="col-12 col-lg-6">
                        <div class="professional-card card-padding rounded-2xl hover-lift h-full">
                            <h3 class="text-2xl font-bold mb-6 text-error">
                                <i class="fas fa-exclamation-triangle mr-3"></i>Common Phishing Signs
                            </h3>
                            <ul class="space-y-3 text-secondary">
                                <li class="flex items-start">
                                    <span class="text-error mr-3">â€¢</span>Urgent action required messages
                                </li>
                                <li class="flex items-start">
                                    <span class="text-error mr-3">â€¢</span>Requests to verify account immediately
                                </li>
                                <li class="flex items-start">
                                    <span class="text-error mr-3">â€¢</span>Suspicious sender addresses
                                </li>
                                <li class="flex items-start">
                                    <span class="text-error mr-3">â€¢</span>Generic greetings like "Dear Customer"
                                </li>
                                <li class="flex items-start">
                                    <span class="text-error mr-3">â€¢</span>Threats of account suspension
                                </li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="col-12 col-lg-6">
                        <div class="professional-card card-padding rounded-2xl hover-lift h-full">
                            <h3 class="text-2xl font-bold mb-6 text-accent">
                                <i class="fas fa-shield-alt mr-3"></i>Protection Tips
                            </h3>
                            <ul class="space-y-3 text-secondary">
                                <li class="flex items-start">
                                    <span class="text-accent mr-3">â€¢</span>Always verify sender identity
                                </li>
                                <li class="flex items-start">
                                    <span class="text-accent mr-3">â€¢</span>Check URLs before clicking
                                </li>
                                <li class="flex items-start">
                                    <span class="text-accent mr-3">â€¢</span>Use two-factor authentication
                                </li>
                                <li class="flex items-start">
                                    <span class="text-accent mr-3">â€¢</span>Keep software updated
                                </li>
                                <li class="flex items-start">
                                    <span class="text-accent mr-3">â€¢</span>Report suspicious messages
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="section-content hidden">
            <div class="section-padding">
                <div class="grid">
                    <div class="col-12 text-center mb-12">
                        <h2 class="text-4xl md:text-5xl font-bold gradient-text mb-4">Contact & Support</h2>
                        <p class="text-lg text-secondary">Get in touch with our security team</p>
                    </div>
                    
                    <div class="col-12 col-lg-6">
                        <div class="professional-card card-padding rounded-2xl">
                            <h3 class="text-xl font-bold mb-4">Contact Information</h3>
                            <div class="space-y-4">
                                <div class="flex items-center">
                                    <i class="fas fa-envelope text-primary mr-3"></i>
                                    <span>lakshyabarmate@gmail.com</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fab fa-github text-primary mr-3"></i>
                                    <a href="https://github.com/trusteye" class="text-primary hover:underline">GitHub Repository</a>
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-globe text-primary mr-3"></i>
                                    <span>Available 24/7 for threat detection</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-12 col-lg-6">
                        <div class="professional-card card-padding rounded-2xl">
                            <h3 class="text-xl font-bold mb-4">Security Features</h3>
                            <div class="space-y-3">
                                <div class="flex items-center">
                                    <i class="fas fa-check text-accent mr-3"></i>
                                    <span>XSS Protection Active</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-check text-accent mr-3"></i>
                                    <span>Input Validation Enabled</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-check text-accent mr-3"></i>
                                    <span>Data Privacy Compliant</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-check text-accent mr-3"></i>
                                    <span>Rate Limiting Protection</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
// Initialize dashboard data - starts from 0 for new users
let dashboardData = {
    totalScans: 0,
    threatsBlocked: 0,
    successRate: 0,
    scanHistory: []
};

let currentLang = localStorage.getItem('trusteyeLang') || 'en';
let isDarkMode = localStorage.getItem('trusteyeTheme') === 'dark';
let lastScanTime = 0;
let threatChart, historyChart;

// Translations
const translations = {
    en: {
        'nav.home': 'Home',
        'nav.scanner': 'Scanner',
        'nav.dashboard': 'Dashboard',
        'nav.education': 'Education',
        'nav.contact': 'Contact'
    },
    hi: {
        'nav.home': 'à¤¹à¥‹à¤®',
        'nav.scanner': 'à¤¸à¥à¤•à¥ˆà¤¨à¤°',
        'nav.dashboard': 'à¤¡à¥ˆà¤¶à¤¬à¥‹à¤°à¥à¤¡',
        'nav.education': 'à¤¶à¤¿à¤•à¥à¤·à¤¾',
        'nav.contact': 'à¤¸à¤‚à¤ªà¤°à¥à¤•'
    }
};

// Phishing detection patterns
const phishingPatterns = [
    /urgent.*action.*required/i,
    /verify.*account.*immediately/i,
    /click.*here.*now/i,
    /suspended.*account/i,
    /confirm.*identity/i,
    /limited.*time.*offer/i,
    /act.*now.*expire/i,
    /security.*alert/i,
    /congratulations.*won/i,
    /claim.*prize/i
];

const suspiciousDomains = [
    'bit.ly', 'tinyurl.com', 'short.link', 't.co',
    '.tk', '.ml', '.ga', '.cf',
    'phishing', 'fake', 'scam', 'verify'
];

// User Data Management
function generateUserId() {
    return 'user_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
}

function initializeUserData() {
    let userId = localStorage.getItem('trusteye_user_id');
    
    if (!userId) {
        userId = generateUserId();
        localStorage.setItem('trusteye_user_id', userId);
        
        // Create fresh user data structure starting from 0
        const userData = {
            id: userId,
            createdAt: new Date().toISOString(),
            scans: [],
            quizStats: { correct: 0, incorrect: 0, total: 0 },
            preferences: { theme: 'light', language: 'en' },
            dashboardData: {
                threatsBlocked: 0,
                scansPerformed: 0,
                lastScanDate: null,
                riskLevel: 'Low',
                successRate: 0
            }
        };
        
        localStorage.setItem('trusteye_user_data', JSON.stringify(userData));
        
        // Reset legacy dashboard data for new users
        dashboardData = {
            totalScans: 0,
            threatsBlocked: 0,
            successRate: 0,
            scanHistory: []
        };
        localStorage.setItem('trusteyeData', JSON.stringify(dashboardData));
    }
    
    return userId;
}

function getUserData() {
    const userData = localStorage.getItem('trusteye_user_data');
    return userData ? JSON.parse(userData) : null;
}

function updateUserData(updates) {
    const userData = getUserData();
    if (userData) {
        Object.assign(userData, updates);
        localStorage.setItem('trusteye_user_data', JSON.stringify(userData));
    }
}

function addScanToHistory(scanData) {
    const userData = getUserData();
    if (userData) {
        userData.scans.unshift({
            ...scanData,
            timestamp: new Date().toISOString(),
            id: Date.now()
        });
        
        userData.dashboardData.scansPerformed++;
        userData.dashboardData.lastScanDate = new Date().toISOString();
        if (scanData.threat || scanData.isPhishing) {
            userData.dashboardData.threatsBlocked++;
        }
        
        // Calculate success rate (percentage of threats detected)
        userData.dashboardData.successRate = userData.dashboardData.scansPerformed > 0 ? 
            Math.round((userData.dashboardData.threatsBlocked / userData.dashboardData.scansPerformed) * 100) : 0;
        
        // Keep only last 50 scans
        if (userData.scans.length > 50) {
            userData.scans = userData.scans.slice(0, 50);
        }
        
        localStorage.setItem('trusteye_user_data', JSON.stringify(userData));
        updateDashboard();
    }
}

function updateQuizStats(isCorrect) {
    const userData = getUserData();
    if (userData) {
        userData.quizStats.total++;
        if (isCorrect) userData.quizStats.correct++;
        else userData.quizStats.incorrect++;
        
        localStorage.setItem('trusteye_user_data', JSON.stringify(userData));
    }
}

// Quiz functionality
let currentQuestion = 0;
let correctAnswers = 0;
let totalAnswers = 0;

const quizQuestions = [
    {
        type: "Email Sample",
        content: `From: security@paypal.com
To: you@email.com
Subject: Urgent: Verify Your Account

Dear Customer,
Your PayPal account has been temporarily suspended. Click here to verify: http://paypal-security.net/verify
Failure to verify within 24 hours will result in permanent closure.`,
        isSafe: false,
        explanation: "This is suspicious! Red flags: urgent language, suspicious URL (paypal-security.net instead of paypal.com), and threats of account closure."
    },
    {
        type: "URL Sample",
        content: "https://www.amazon.com/dp/B08N5WRWNW",
        isSafe: true,
        explanation: "This is safe! It's a legitimate Amazon product URL with proper HTTPS and correct domain."
    },
    {
        type: "Email Sample",
        content: `From: noreply@github.com
To: you@email.com
Subject: [GitHub] Please verify your device

Hi there,
We noticed a new sign-in to your GitHub account from a new device. If this was you, no action needed.
If not, please secure your account: https://github.com/settings/security`,
        isSafe: true,
        explanation: "This is safe! Legitimate GitHub domain, proper security notification format, and official GitHub security URL."
    },
    {
        type: "Message Sample",
        content: "CONGRATULATIONS! You've won $1,000,000 in our lottery! Click this link immediately to claim: bit.ly/claim-prize-now. Limited time offer!",
        isSafe: false,
        explanation: "This is suspicious! Red flags: unsolicited prize notification, shortened URL, urgent language, and too-good-to-be-true claims."
    },
    {
        type: "URL Sample",
        content: "https://micr0soft-support.com/windows-update",
        isSafe: false,
        explanation: "This is suspicious! The domain uses '0' instead of 'o' in Microsoft - a common typosquatting technique."
    }
];

function loadQuestion() {
    const question = quizQuestions[currentQuestion];
    document.getElementById('question-type').textContent = question.type;
    document.getElementById('sample-content').textContent = question.content;
    document.getElementById('quiz-feedback').classList.add('hidden');
}

function answerQuiz(userAnswer) {
    const question = quizQuestions[currentQuestion];
    const isCorrect = userAnswer === question.isSafe;
    
    totalAnswers++;
    if (isCorrect) correctAnswers++;
    
    // Update user data
    updateQuizStats(isCorrect);
    
    // Update stats display
    document.getElementById('correct-count').textContent = correctAnswers;
    document.getElementById('incorrect-count').textContent = totalAnswers - correctAnswers;
    document.getElementById('score').textContent = Math.round((correctAnswers / totalAnswers) * 100) + '%';
    
    // Show feedback
    const feedbackDiv = document.getElementById('feedback-content');
    feedbackDiv.className = `p-4 rounded-lg ${isCorrect ? 'bg-green-100 dark:bg-green-900/30 border-green-500' : 'bg-red-100 dark:bg-red-900/30 border-red-500'} border-l-4`;
    feedbackDiv.innerHTML = `
        <div class="flex items-center mb-2">
            <i class="fas ${isCorrect ? 'fa-check-circle text-green-600' : 'fa-times-circle text-red-600'} mr-2"></i>
            <span class="font-bold ${isCorrect ? 'text-green-800 dark:text-green-200' : 'text-red-800 dark:text-red-200'}">
                ${isCorrect ? 'Correct!' : 'Incorrect!'}
            </span>
        </div>
        <p class="${isCorrect ? 'text-green-700 dark:text-green-300' : 'text-red-700 dark:text-red-300'}">${question.explanation}</p>
    `;
    document.getElementById('quiz-feedback').classList.remove('hidden');
}

function nextQuestion() {
    currentQuestion = (currentQuestion + 1) % quizQuestions.length;
    loadQuestion();
}

// Initialize
document.addEventListener('DOMContentLoaded', function() {
    // Initialize user data system
    initializeUserData();
    
    initializeTheme();
    initializeLanguage();
    updateDashboard();
    initializeCharts();
    loadQuestion();
    
    // Event listeners
    document.getElementById('themeToggle').addEventListener('click', toggleTheme);
    document.getElementById('langBtn').addEventListener('click', toggleLanguage);
    document.getElementById('mobileMenuBtn').addEventListener('click', toggleMobileMenu);
    
    console.log('ðŸš€ TrustEye Complete - All Features Loaded');
});

// Navigation
function showSection(sectionId) {
    // Hide all sections
    document.querySelectorAll('.section-content').forEach(section => {
        section.classList.add('hidden');
    });
    
    // Show selected section
    document.getElementById(sectionId).classList.remove('hidden');
    
    // Update navigation
    document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active', 'text-primary', 'border-b-2', 'border-primary', 'pb-1');
        link.classList.add('text-secondary');
    });
    
    const activeLink = document.querySelector(`[onclick="showSection('${sectionId}')"]`);
    if (activeLink && activeLink.classList.contains('nav-link')) {
        activeLink.classList.add('active', 'text-primary', 'border-b-2', 'border-primary', 'pb-1');
        activeLink.classList.remove('text-secondary');
    }
    
    // Close mobile menu
    document.getElementById('mobileMenu').classList.add('hidden');
    
    // Update charts if dashboard
    if (sectionId === 'dashboard') {
        setTimeout(() => {
            updateCharts();
        }, 100);
    }
}

// Scanner functions
function switchScannerTab(tab) {
    document.querySelectorAll('.scanner-tab').forEach(t => t.classList.add('hidden'));
    document.getElementById(tab + 'Scanner').classList.remove('hidden');
    
    document.querySelectorAll('[id$="ScanTab"]').forEach(btn => {
        btn.classList.remove('bg-primary', 'text-white');
        btn.classList.add('text-secondary');
    });
    
    document.getElementById(tab + 'ScanTab').classList.add('bg-primary', 'text-white');
    document.getElementById(tab + 'ScanTab').classList.remove('text-secondary');
}

function loadSample(type, content) {
    if (type === 'url') {
        document.getElementById('urlInput').value = content;
    } else {
        document.getElementById('textInput').value = content;
    }
}

function scanUrl() {
    const url = document.getElementById('urlInput').value.trim();
    if (!url) return;
    
    // Rate limiting
    const now = Date.now();
    if (now - lastScanTime < 2000) {
        showError('Please wait 2 seconds between scans');
        return;
    }
    lastScanTime = now;
    
    // Input validation
    try {
        new URL(url);
    } catch {
        showError('Please enter a valid URL');
        return;
    }
    
    // Scan logic
    let threatScore = 0;
    let issues = [];
    
    // Check suspicious domains
    suspiciousDomains.forEach(domain => {
        if (url.toLowerCase().includes(domain)) {
            threatScore += 30;
            issues.push(`Suspicious domain pattern: ${domain}`);
        }
    });
    
    // Check for IP addresses
    if (/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/.test(url)) {
        threatScore += 25;
        issues.push('IP address instead of domain name');
    }
    
    // Check for suspicious TLDs
    if (/\.(tk|ml|ga|cf)($|\/)/i.test(url)) {
        threatScore += 20;
        issues.push('Suspicious top-level domain');
    }
    
    const isPhishing = threatScore > 30;
    const confidence = Math.min(threatScore, 100);
    const riskLevel = threatScore > 60 ? 'High' : threatScore > 30 ? 'Medium' : 'Low';
    
    const result = {
        type: 'URL',
        content: url,
        isPhishing,
        confidence,
        riskLevel,
        issues,
        timestamp: new Date().toISOString()
    };
    
    showResults(result);
    saveScanResult(result);
}

function scanText() {
    const text = document.getElementById('textInput').value.trim();
    if (!text) return;
    
    // Rate limiting
    const now = Date.now();
    if (now - lastScanTime < 2000) {
        showError('Please wait 2 seconds between scans');
        return;
    }
    lastScanTime = now;
    
    // Input sanitization
    const sanitizedText = text.replace(/[<>]/g, '');
    
    let threatScore = 0;
    let patterns = [];
    
    phishingPatterns.forEach(pattern => {
        if (pattern.test(sanitizedText)) {
            threatScore += 15;
            patterns.push(pattern.source);
        }
    });
    
    const isPhishing = threatScore > 25;
    const confidence = Math.min(threatScore, 100);
    const riskLevel = threatScore > 50 ? 'High' : threatScore > 25 ? 'Medium' : 'Low';
    
    const result = {
        type: 'Text',
        content: sanitizedText.substring(0, 100) + (sanitizedText.length > 100 ? '...' : ''),
        isPhishing,
        confidence,
        riskLevel,
        patterns,
        timestamp: new Date().toISOString()
    };
    
    showResults(result);
    saveScanResult(result);
}

function showResults(result) {
    const resultsDiv = document.getElementById('scanResults');
    const contentDiv = document.getElementById('resultContent');
    
    const bgColor = result.isPhishing ? 'bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-700' : 'bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700';
    const textColor = result.isPhishing ? 'text-red-800 dark:text-red-200' : 'text-green-800 dark:text-green-200';
    const icon = result.isPhishing ? 'fa-exclamation-triangle' : 'fa-shield-alt';
    
    contentDiv.className = `p-6 rounded-xl border-2 ${bgColor}`;
    contentDiv.innerHTML = `
        <div class="flex items-center mb-4">
            <i class="fas ${icon} text-3xl ${textColor} mr-4"></i>
            <div>
                <h3 class="text-2xl font-bold ${textColor}">
                    ${result.isPhishing ? 'âš ï¸ Threat Detected' : 'âœ… Content Safe'}
                </h3>
                <p class="${textColor} text-lg">Risk Level: ${result.riskLevel} (${result.confidence}% confidence)</p>
            </div>
        </div>
        ${result.issues ? `<div class="mt-4"><strong class="${textColor}">Issues found:</strong><ul class="list-disc list-inside mt-2">${result.issues.map(issue => `<li class="${textColor}">${issue}</li>`).join('')}</ul></div>` : ''}
        ${result.patterns ? `<div class="mt-4"><strong class="${textColor}">Detected patterns:</strong> ${result.patterns.length} phishing indicators</div>` : ''}
    `;
    
    resultsDiv.classList.remove('hidden');
    resultsDiv.scrollIntoView({ behavior: 'smooth' });
}

function showError(message) {
    const resultsDiv = document.getElementById('scanResults');
    const contentDiv = document.getElementById('resultContent');
    
    contentDiv.className = 'p-6 rounded-xl border-2 bg-yellow-50 dark:bg-yellow-900/20 border-yellow-300 dark:border-yellow-700';
    contentDiv.innerHTML = `
        <div class="flex items-center">
            <i class="fas fa-exclamation-circle text-2xl text-yellow-600 mr-3"></i>
            <p class="text-yellow-800 dark:text-yellow-200">${message}</p>
        </div>
    `;
    
    resultsDiv.classList.remove('hidden');
}

// Dashboard functions
function saveScanResult(result) {
    // Add to user data system
    addScanToHistory(result);
    
    // Update legacy dashboard data for compatibility
    dashboardData.totalScans++;
    if (result.isPhishing) {
        dashboardData.threatsBlocked++;
    }
    
    dashboardData.successRate = dashboardData.totalScans > 0 ? 
        Math.round((dashboardData.threatsBlocked / dashboardData.totalScans) * 100) : 0;
    
    dashboardData.scanHistory.unshift(result);
    if (dashboardData.scanHistory.length > 50) {
        dashboardData.scanHistory = dashboardData.scanHistory.slice(0, 50);
    }
    
    localStorage.setItem('trusteyeData', JSON.stringify(dashboardData));
    updateDashboard();
}

function updateDashboard() {
    const userData = getUserData();
    
    if (userData) {
        // Use user-specific data
        document.getElementById('dashTotalScans').textContent = userData.dashboardData.scansPerformed.toLocaleString();
        document.getElementById('dashThreatsBlocked').textContent = userData.dashboardData.threatsBlocked.toLocaleString();
        document.getElementById('dashSuccessRate').textContent = userData.dashboardData.successRate + '%';
        
        const lastScan = userData.scans[0];
        document.getElementById('dashLastScan').textContent = lastScan ? 
            new Date(lastScan.timestamp).toLocaleTimeString() : 'Never';
        
        // Update scan history table with user data
        updateScanHistoryTableFromUserData(userData.scans);
    } else {
        // Fallback to legacy data
        document.getElementById('dashTotalScans').textContent = dashboardData.totalScans.toLocaleString();
        document.getElementById('dashThreatsBlocked').textContent = dashboardData.threatsBlocked.toLocaleString();
        document.getElementById('dashSuccessRate').textContent = dashboardData.successRate + '%';
        
        const lastScan = dashboardData.scanHistory[0];
        document.getElementById('dashLastScan').textContent = lastScan ? 
            new Date(lastScan.timestamp).toLocaleTimeString() : 'Never';
        
        updateScanHistoryTable();
    }
    
    updateCharts();
}

function updateScanHistoryTableFromUserData(scans) {
    const tbody = document.getElementById('scanHistoryTable');
    
    if (scans.length === 0) {
        tbody.innerHTML = '<tr><td colspan="5" class="text-center py-8 text-secondary">No scans yet. Try the scanner to see results here.</td></tr>';
        return;
    }
    
    tbody.innerHTML = scans.slice(0, 10).map(scan => `
        <tr class="border-b border-gray-100 dark:border-gray-700">
            <td class="py-3 px-4">${new Date(scan.timestamp).toLocaleTimeString()}</td>
            <td class="py-3 px-4">${scan.type}</td>
            <td class="py-3 px-4 max-w-xs truncate">${scan.content}</td>
            <td class="py-3 px-4">
                <span class="px-2 py-1 rounded text-xs ${scan.threat ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'}">
                    ${scan.threat ? 'Threat' : 'Safe'}
                </span>
            </td>
            <td class="py-3 px-4">
                <span class="px-2 py-1 rounded text-xs ${
                    scan.riskLevel === 'High' ? 'bg-red-100 text-red-800' :
                    scan.riskLevel === 'Medium' ? 'bg-yellow-100 text-yellow-800' :
                    'bg-green-100 text-green-800'
                }">
                    ${scan.riskLevel || 'Low'}
                </span>
            </td>
        </tr>
    `).join('');
}

function updateScanHistoryTable() {
    const tbody = document.getElementById('scanHistoryTable');
    
    if (dashboardData.scanHistory.length === 0) {
        tbody.innerHTML = '<tr><td colspan="5" class="text-center py-8 text-secondary">No scans yet. Try the scanner to see results here.</td></tr>';
        return;
    }
    
    tbody.innerHTML = dashboardData.scanHistory.slice(0, 10).map(scan => `
        <tr class="border-b border-gray-100 dark:border-gray-700">
            <td class="py-3 px-4">${new Date(scan.timestamp).toLocaleTimeString()}</td>
            <td class="py-3 px-4">${scan.type}</td>
            <td class="py-3 px-4 max-w-xs truncate">${scan.content}</td>
            <td class="py-3 px-4">
                <span class="px-2 py-1 rounded text-xs ${scan.isPhishing ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'}">
                    ${scan.isPhishing ? 'Threat' : 'Safe'}
                </span>
            </td>
            <td class="py-3 px-4">
                <span class="px-2 py-1 rounded text-xs ${
                    scan.riskLevel === 'High' ? 'bg-red-100 text-red-800' :
                    scan.riskLevel === 'Medium' ? 'bg-yellow-100 text-yellow-800' :
                    'bg-green-100 text-green-800'
                }">
                    ${scan.riskLevel}
                </span>
            </td>
        </tr>
    `).join('');
}

// Chart functions
function initializeCharts() {
    const threatCtx = document.getElementById('threatChart');
    const historyCtx = document.getElementById('historyChart');
    
    if (threatCtx) {
        threatChart = new Chart(threatCtx, {
            type: 'doughnut',
            data: {
                labels: ['Safe', 'Phishing', 'Suspicious'],
                datasets: [{
                    data: [0, 0, 0],
                    backgroundColor: ['#10B981', '#DC2626', '#F59E0B']
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false
            }
        });
    }
    
    if (historyCtx) {
        historyChart = new Chart(historyCtx, {
            type: 'line',
            data: {
                labels: [],
                datasets: [{
                    label: 'Scans per Hour',
                    data: [],
                    borderColor: '#1D4ED8',
                    backgroundColor: 'rgba(29, 78, 216, 0.1)',
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    }
}

function updateCharts() {
    if (!threatChart || !historyChart) return;
    
    // Update threat distribution
    const safe = dashboardData.totalScans - dashboardData.threatsBlocked;
    const phishing = dashboardData.threatsBlocked;
    
    threatChart.data.datasets[0].data = [safe, phishing, 0];
    threatChart.update();
    
    // Update history chart (simplified)
    const hours = Array.from({length: 24}, (_, i) => `${i}:00`);
    const scansPerHour = new Array(24).fill(0);
    
    // Simulate some data based on total scans
    if (dashboardData.totalScans > 0) {
        const currentHour = new Date().getHours();
        scansPerHour[currentHour] = dashboardData.totalScans;
    }
    
    historyChart.data.labels = hours;
    historyChart.data.datasets[0].data = scansPerHour;
    historyChart.update();
}

// Data management
function exportData() {
    showActionFeedback('Preparing data export...', 'info');
    
    setTimeout(() => {
        try {
            const exportData = {
                ...dashboardData,
                exportDate: new Date().toISOString(),
                version: '1.0',
                totalItems: dashboardData.scanHistory.length
            };
            
            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `trusteye-export-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            URL.revokeObjectURL(url);
            
            showActionFeedback(`Data exported successfully! ${dashboardData.scanHistory.length} records saved.`, 'success');
        } catch (error) {
            showActionFeedback('Export failed. Please try again.', 'error');
        }
    }, 500);
}

function clearData() {
    if (confirm('âš ï¸ This will permanently delete all scan data. Are you sure?')) {
        showActionFeedback('Clearing all data...', 'info');
        
        setTimeout(() => {
            const oldTotal = dashboardData.totalScans;
            
            dashboardData = {
                totalScans: 0,
                threatsBlocked: 0,
                successRate: 0,
                scanHistory: []
            };
            
            localStorage.setItem('trusteyeData', JSON.stringify(dashboardData));
            updateDashboard();
            
            showActionFeedback(`All data cleared! Removed ${oldTotal} scan records.`, 'success');
        }, 800);
    }
}

// Theme and language
function toggleTheme() {
    isDarkMode = !isDarkMode;
    document.documentElement.classList.toggle('dark', isDarkMode);
    localStorage.setItem('trusteyeTheme', isDarkMode ? 'dark' : 'light');
}

function initializeTheme() {
    if (isDarkMode) {
        document.documentElement.classList.add('dark');
    }
}

function toggleLanguage() {
    currentLang = currentLang === 'en' ? 'hi' : 'en';
    document.getElementById('langBtn').textContent = currentLang.toUpperCase();
    localStorage.setItem('trusteyeLang', currentLang);
    updateTranslations();
}

function initializeLanguage() {
    document.getElementById('langBtn').textContent = currentLang.toUpperCase();
    updateTranslations();
}

function updateTranslations() {
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[currentLang] && translations[currentLang][key]) {
            element.textContent = translations[currentLang][key];
        }
    });
}

function toggleMobileMenu() {
    const mobileMenu = document.getElementById('mobileMenu');
    mobileMenu.classList.toggle('hidden');
}

// Demo function
function tryDemo() {
    showSection('scanner');
    setTimeout(() => {
        loadSample('text', 'URGENT: Your account will be suspended in 24 hours. Click here immediately to verify your identity and prevent closure.');
        setTimeout(() => {
            scanText();
        }, 500);
    }, 300);
}

// Enhanced Dashboard Actions with Clear User Feedback

// Quick Scan Action
function quickScan() {
    showActionFeedback('Starting quick scan...', 'info');
    
    const scanBtn = document.querySelector('[onclick="quickScan()"]');
    const originalText = scanBtn.innerHTML;
    
    scanBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Scanning...';
    scanBtn.disabled = true;
    
    setTimeout(() => {
        const threats = Math.floor(Math.random() * 5);
        dashboardData.totalScans += 10;
        dashboardData.threatsBlocked += threats;
        dashboardData.successRate = Math.round((dashboardData.threatsBlocked / dashboardData.totalScans) * 100);
        
        for (let i = 0; i < 10; i++) {
            const isPhishing = Math.random() < 0.3;
            dashboardData.scanHistory.unshift({
                type: Math.random() < 0.5 ? 'URL' : 'Text',
                content: `Quick scan item ${i + 1}`,
                isPhishing,
                confidence: Math.floor(Math.random() * 100),
                riskLevel: isPhishing ? 'High' : 'Low',
                timestamp: new Date().toISOString()
            });
        }
        
        localStorage.setItem('trusteyeData', JSON.stringify(dashboardData));
        updateDashboard();
        
        scanBtn.innerHTML = originalText;
        scanBtn.disabled = false;
        
        showActionFeedback(`Quick scan completed! Found ${threats} threats in 10 items.`, 'success');
        animateCounters();
    }, 2000);
}

// Action Feedback System
function showActionFeedback(message, type = 'info') {
    const existing = document.getElementById('actionFeedback');
    if (existing) existing.remove();
    
    const colors = {
        info: 'bg-blue-50 border-blue-200 text-blue-800',
        success: 'bg-green-50 border-green-200 text-green-800',
        error: 'bg-red-50 border-red-200 text-red-800'
    };
    
    const icons = {
        info: 'fa-info-circle',
        success: 'fa-check-circle',
        error: 'fa-exclamation-circle'
    };
    
    const feedback = document.createElement('div');
    feedback.id = 'actionFeedback';
    feedback.className = `fixed top-24 right-6 z-50 p-4 rounded-lg border-2 ${colors[type]} shadow-lg`;
    feedback.innerHTML = `
        <div class="flex items-center">
            <i class="fas ${icons[type]} mr-3"></i>
            <span class="font-medium">${message}</span>
        </div>
    `;
    
    document.body.appendChild(feedback);
    
    setTimeout(() => {
        if (feedback.parentNode) {
            feedback.style.opacity = '0';
            setTimeout(() => feedback.remove(), 300);
        }
    }, 3000);
}

// Counter Animations
function animateCounters() {
    const counters = [
        { element: document.getElementById('dashTotalScans'), target: dashboardData.totalScans },
        { element: document.getElementById('dashThreatsBlocked'), target: dashboardData.threatsBlocked }
    ];
    
    counters.forEach(counter => {
        const start = parseInt(counter.element.textContent.replace(/,/g, '')) || 0;
        const target = counter.target;
        const duration = 1000;
        const startTime = performance.now();
        
        function animate(currentTime) {
            const elapsed = currentTime - startTime;
            const progress = Math.min(elapsed / duration, 1);
            const current = Math.floor(start + (target - start) * progress);
            
            counter.element.textContent = current.toLocaleString();
            
            if (progress < 1) {
                requestAnimationFrame(animate);
            }
        }
        
        requestAnimationFrame(animate);
    });
}
</script></body></html>
