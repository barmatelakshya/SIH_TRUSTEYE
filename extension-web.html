<!DOCTYPE html>
<html>
<head>
    <title>TrustEye - Web Version</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 50px auto; padding: 20px; }
        .header { text-align: center; margin-bottom: 30px; }
        .logo { font-size: 24px; font-weight: bold; color: #4f46e5; margin-bottom: 10px; }
        textarea { width: 100%; height: 120px; margin: 15px 0; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px; }
        button { width: 100%; padding: 15px; background: #4f46e5; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold; }
        button:hover { background: #3730a3; }
        .result { margin-top: 20px; padding: 15px; border-radius: 8px; font-weight: bold; }
        .safe { background: #dcfce7; color: #166534; border: 2px solid #bbf7d0; }
        .danger { background: #fecaca; color: #dc2626; border: 2px solid #fca5a5; }
        .examples { margin-top: 30px; }
        .example { background: #f3f4f6; padding: 10px; margin: 10px 0; border-radius: 4px; cursor: pointer; }
        .example:hover { background: #e5e7eb; }
    </style>
</head>
<body>
    <div class="header">
        <div style="display: flex; align-items: center; justify-content: center; gap: 12px; margin-bottom: 15px;">
            <div style="display: flex; align-items: center; justify-center; width: 40px; height: 40px; border-radius: 10px; background: rgba(79, 70, 229, 0.1); backdrop-filter: blur(4px);">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#4f46e5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                </svg>
            </div>
            <div>
                <div class="logo" style="margin: 0;">TRUST EYE</div>
                <div style="font-size: 14px; color: #6b7280;">Threat Detection</div>
            </div>
        </div>
        <div>Web Version - Test Phishing Detection</div>
    </div>
    
    <textarea id="textInput" placeholder="Paste suspicious text, email, or URL here to analyze...">URGENT! Your account will be suspended. Click here now to verify your identity immediately.</textarea>
    
    <button onclick="analyzeText()">üîç Analyze for Threats</button>
    
    <div id="result" style="display: none;"></div>
    
    <div class="examples">
        <h3>Try These Examples:</h3>
        <div class="example" onclick="loadExample(0)">
            üî¥ Phishing: "URGENT! Verify your PayPal account now or it will be closed!"
        </div>
        <div class="example" onclick="loadExample(1)">
            üü° Suspicious: "Click this link: bit.ly/free-money-now"
        </div>
        <div class="example" onclick="loadExample(2)">
            üü¢ Safe: "Thank you for your purchase. Your order will arrive tomorrow."
        </div>
    </div>

    <script>
        const examples = [
            "URGENT! Verify your PayPal account now or it will be closed! Click here immediately to avoid suspension.",
            "You've won $1000! Click this link now: bit.ly/free-money-claim",
            "Thank you for your purchase from Amazon. Your order #12345 will arrive tomorrow between 2-4 PM."
        ];

        function loadExample(index) {
            document.getElementById('textInput').value = examples[index];
            analyzeText();
        }

        function analyzeText() {
            const text = document.getElementById('textInput').value.trim();
            const resultDiv = document.getElementById('result');
            
            if (!text) {
                showResult('Please enter text to analyze', 'safe');
                return;
            }
            
            // Phishing detection patterns
            const phishingPatterns = [
                { pattern: /urgent.*action.*required/i, weight: 25, name: 'Urgent action required' },
                { pattern: /verify.*account.*immediately/i, weight: 30, name: 'Account verification urgency' },
                { pattern: /click.*here.*now/i, weight: 20, name: 'Urgent click request' },
                { pattern: /suspended.*account/i, weight: 35, name: 'Account suspension threat' },
                { pattern: /confirm.*identity/i, weight: 25, name: 'Identity confirmation request' },
                { pattern: /limited.*time.*offer/i, weight: 15, name: 'Limited time pressure' },
                { pattern: /act.*now.*expire/i, weight: 20, name: 'Expiration pressure' },
                { pattern: /security.*alert/i, weight: 20, name: 'Fake security alert' },
                { pattern: /paypal|amazon|bank|apple/i, weight: 15, name: 'Brand impersonation' }
            ];
            
            let threatScore = 0;
            let detectedIssues = [];
            
            // Check phishing patterns
            phishingPatterns.forEach(item => {
                if (item.pattern.test(text)) {
                    threatScore += item.weight;
                    detectedIssues.push(item.name);
                }
            });
            
            // Check for suspicious URLs
            if (text.includes('bit.ly') || text.includes('tinyurl') || text.includes('t.co')) {
                threatScore += 25;
                detectedIssues.push('URL shortener detected');
            }
            
            // Check for IP addresses
            if (/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/.test(text)) {
                threatScore += 20;
                detectedIssues.push('IP address instead of domain');
            }
            
            // Check for suspicious domains
            const suspiciousDomains = ['temp-mail', 'fake-bank', 'phish-site'];
            suspiciousDomains.forEach(domain => {
                if (text.toLowerCase().includes(domain)) {
                    threatScore += 30;
                    detectedIssues.push('Suspicious domain detected');
                }
            });
            
            const finalScore = Math.min(threatScore, 100);
            const isPhishing = finalScore > 30;
            const riskLevel = finalScore > 60 ? 'HIGH' : finalScore > 30 ? 'MEDIUM' : 'LOW';
            
            let resultText = `
                <div style="font-size: 18px; margin-bottom: 10px;">
                    ${isPhishing ? '‚ö†Ô∏è THREAT DETECTED' : '‚úÖ LOOKS SAFE'}
                </div>
                <div>Risk Score: ${finalScore}% (${riskLevel} RISK)</div>
                <div>Issues Found: ${detectedIssues.length}</div>
            `;
            
            if (detectedIssues.length > 0) {
                resultText += '<div style="margin-top: 10px;"><strong>Detected Issues:</strong><ul>';
                detectedIssues.forEach(issue => {
                    resultText += `<li>${issue}</li>`;
                });
                resultText += '</ul></div>';
            }
            
            showResult(resultText, isPhishing ? 'danger' : 'safe');
        }
        
        function showResult(text, type) {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = text;
            resultDiv.className = `result ${type}`;
            resultDiv.style.display = 'block';
        }
        
        // Auto-analyze the pre-loaded example
        window.onload = function() {
            setTimeout(analyzeText, 500);
        };
    </script>
</body>
</html>
